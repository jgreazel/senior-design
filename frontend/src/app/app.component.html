<h1 mat-subheader>CySec Game</h1>

<div class="left box">
  <button (click)="getNodeData()">Get Nodes</button>
  <button type="button" (click)="onDown('json', false)">Save JSON</button>
</div>



<div class="form-group">
  <label for="file">Choose File</label>
  <input type="file"
         id="file"
         (change)="handleFileInput($event.target.files)">
</div>

<div class="left">
  Palette
  <gojs-palette 
    #myPalette [initPalette]='initPalette'
    [divClassName]='paletteDivClassName'
    [nodeDataArray]='paletteNodeData'
    [linkDataArray]='paletteLinkData'
    [modelData]='paletteModelData'
    (modelChange)='paletteModelChange($event)'
    [skipsPaletteUpdate]='skipsPaletteUpdate'>
  </gojs-palette>
  <section>
    <div class="example-button-row">
      <button mat-raised-button>Analyze</button>
    </div>
  </section>
</div>

<div class="left">
  Diagram
  <gojs-diagram
    #myDiagram
    [initDiagram]='initDiagram'
    [nodeDataArray]='diagramNodeData'
    [linkDataArray]='diagramLinkData'
    [divClassName]='diagramDivClassName'
    [modelData]='diagramModelData'
    [skipsDiagramUpdate]='skipsDiagramUpdate'
    (modelChange)='diagramModelChange($event)'>
  </gojs-diagram>
</div>

<div class="left">
  <app-inspector [selectedNode]='selectedNode' (onFormChange)='handleInspectorChange($event)'></app-inspector>
</div>

<div class="clear left box">
  <h3>Links in app data</h3>
  <ul>
    <li *ngFor="let ld of diagramLinkData">
      Link Key: {{ld.key}}, To: {{ld.to}}, From: {{ ld.from }}
    </li>
  </ul>
</div>

<div class="left box">
  <h3>Nodes in app data</h3>
  <ul>
    <li *ngFor="let nd of diagramNodeData">
      Node Key: {{nd.key}}, Text: {{nd.text}}, Risk Index: {{nd.riskIndex}}
    </li>
  </ul>
</div>

